{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport NavButton from \"./components/NavButton\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ViewQuizzes = function ViewQuizzes(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    flatListItems = _useState2[0],\n    setFlatListItems = _useState2[1];\n  var quizTitle = '';\n  var questions = [];\n  var choices = [];\n  var correct = [];\n  function getQuizzes() {\n    var response, json;\n    return _regeneratorRuntime.async(function getQuizzes$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(fetch('https://2jwoowlka2.execute-api.us-east-1.amazonaws.com/quizzes/titles'));\n          case 3:\n            response = _context.sent;\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(response.json());\n          case 6:\n            json = _context.sent;\n            setFlatListItems(json.Items);\n            console.log(\"made call\");\n            _context.next = 14;\n            break;\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 11]], Promise);\n  }\n  function getQuizTitle(title) {\n    var response, json, quiz;\n    return _regeneratorRuntime.async(function getQuizTitle$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(fetch(\"https://2jwoowlka2.execute-api.us-east-1.amazonaws.com/quizzes/\" + title));\n          case 3:\n            response = _context2.sent;\n            _context2.next = 6;\n            return _regeneratorRuntime.awrap(response.json());\n          case 6:\n            json = _context2.sent;\n            quiz = json.Item;\n            quizTitle = quiz.title;\n            questions = quiz.questions;\n            choices = quiz.choices;\n            correct = quiz.correct;\n            console.log(\"made call: \", quizTitle);\n            _context2.next = 18;\n            break;\n          case 15:\n            _context2.prev = 15;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n          case 18:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 15]], Promise);\n  }\n  function deleteQuizTitle(title) {\n    return _regeneratorRuntime.async(function deleteQuizTitle$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(fetch(\"https://2jwoowlka2.execute-api.us-east-1.amazonaws.com/quizzes/\" + title, {\n              method: 'DELETE',\n              headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json'\n              }\n            }).then(function (response) {\n              return response.json();\n            }).then(function (data) {\n              Alert.alert('Success', 'You Have Deleted Successfully!', [{\n                text: 'Ok',\n                onPress: function onPress() {\n                  return navigation.navigate('HomeScreen');\n                }\n              }], {\n                cancelable: false\n              });\n            }).catch(function (error) {\n              console.log(error);\n              Alert.alert('Delete Failed');\n            }));\n          case 2:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n  var listViewItemSeparator = function listViewItemSeparator() {\n    return _jsx(View, {\n      style: {\n        height: 0.2,\n        width: '100%',\n        backgroundColor: '#808080'\n      }\n    });\n  };\n  var listItemView = function listItemView(item) {\n    return _jsxs(View, {\n      style: {\n        backgroundColor: '#dbb42b',\n        padding: 20\n      },\n      children: [_jsx(NavButton, {\n        title: item.title,\n        customClick: function _callee() {\n          return _regeneratorRuntime.async(function _callee$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  _context4.next = 2;\n                  return _regeneratorRuntime.awrap(getQuizTitle(item.title));\n                case 2:\n                  navigation.navigate(\"ViewQuiz\", {\n                    id: item.title,\n                    questions: questions,\n                    choices: choices,\n                    correct: correct\n                  });\n                case 3:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, null, null, null, Promise);\n        }\n      }), _jsx(NavButton, {\n        title: \"Edit Quiz\",\n        customClick: function _callee2() {\n          return _regeneratorRuntime.async(function _callee2$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  _context5.next = 2;\n                  return _regeneratorRuntime.awrap(getQuizTitle(item.title));\n                case 2:\n                  console.log(quizTitle);\n                  navigation.navigate('EditQuiz', {\n                    title: quizTitle,\n                    questions: questions,\n                    choices: choices,\n                    correct: correct\n                  });\n                case 4:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n          }, null, null, null, Promise);\n        }\n      }), _jsx(NavButton, {\n        title: \"Delete Quiz\",\n        customClick: function customClick() {\n          Alert.alert(\"Delete\", \"Do you want to delete: \" + item.title + \"?\", [{\n            text: 'Ok',\n            onPress: function onPress() {\n              deleteQuizTitle(item.title);\n            }\n          }], {\n            cancelable: true\n          });\n        }\n      })]\n    }, item.title);\n  };\n  useEffect(function () {\n    getQuizzes();\n  }, []);\n  return _jsx(SafeAreaView, {\n    style: {\n      flex: 1\n    },\n    children: _jsx(View, {\n      style: {\n        flex: 1,\n        backgroundColor: '#dbb42b'\n      },\n      children: _jsx(FlatList, {\n        data: flatListItems,\n        ItemSeparatorComponent: listViewItemSeparator,\n        keyExtractor: function keyExtractor(item, index) {\n          return index.toString();\n        },\n        renderItem: function renderItem(_ref2) {\n          var item = _ref2.item;\n          return listItemView(item);\n        }\n      })\n    })\n  });\n};\nexport default ViewQuizzes;","map":{"version":3,"names":["React","useState","useEffect","NavButton","ViewQuizzes","navigation","flatListItems","setFlatListItems","quizTitle","questions","choices","correct","getQuizzes","fetch","response","json","Items","console","log","getQuizTitle","title","quiz","Item","deleteQuizTitle","method","headers","Accept","then","data","Alert","alert","text","onPress","navigate","cancelable","catch","error","listViewItemSeparator","height","width","backgroundColor","listItemView","item","padding","id","flex","index","toString"],"sources":["/Users/shravun/Desktop/Dev/visiontales-app/iSight-MobileApp-main-2/VisionTalesAdmin/pages/ViewQuizzes.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { FlatList, Text, View, SafeAreaView, Alert } from 'react-native';\nimport NavButton from './components/NavButton';\n\nconst ViewQuizzes = ({ navigation }) => {\n  let [flatListItems, setFlatListItems] = useState([]);\n  let quizTitle = '';\n  let questions = [];\n  let choices = [];\n  let correct = [];\n\n  async function getQuizzes() {\n    try {\n      const response = await fetch('https://2jwoowlka2.execute-api.us-east-1.amazonaws.com/quizzes/titles');\n      const json = await response.json();\n      setFlatListItems(json.Items);\n      console.log(\"made call\");\n    } \n    catch (error) {\n      console.log(error);\n    }\n  }\n\n  async function getQuizTitle(title) {\n    try {\n      const response = await fetch(`https://2jwoowlka2.execute-api.us-east-1.amazonaws.com/quizzes/${title}`);\n      const json = await response.json();\n      const quiz = json.Item;\n\n      quizTitle = quiz.title;\n      questions = quiz.questions;\n      choices = quiz.choices;\n      correct = quiz.correct;\n\n      console.log(\"made call: \", quizTitle);\n    }\n    catch (error) {\n      console.log(error);\n    }\n  }\n\n  async function deleteQuizTitle(title) {\n    await fetch(`https://2jwoowlka2.execute-api.us-east-1.amazonaws.com/quizzes/${title}`, {\n      method: 'DELETE',\n      headers: {\n        Accept: 'application/json',\n\t'Content-Type': 'application/json'\n      },\n    })\n      .then(response => response.json())\n      .then((data) => {\n        Alert.alert(\n          'Success',\n          'You Have Deleted Successfully!',\n            [\n      \t      {\n                text: 'Ok',\n                onPress: () => navigation.navigate('HomeScreen'),\n              },\n            ],\n          { cancelable: false }\n    \t);\n      })\n      .catch((error) => {\n        console.log(error);\n        Alert.alert('Delete Failed');\n      });\n  }\n\n  let listViewItemSeparator = () => {\n    return (\n      <View\n        style={{\n          height: 0.2,\n          width: '100%',\n          backgroundColor: '#808080'\n        }}\n      />\n    );\n  };\n\n  let listItemView = (item) => {\n    return (\n      <View\n        key={item.title}\n        style={{ backgroundColor: '#dbb42b', padding: 20 }}>\n\t<NavButton\n          title={item.title}\n          customClick={async () => {\n            await getQuizTitle(item.title);\n\t    navigation.navigate(\"ViewQuiz\", {\n              id: item.title,\n              questions: questions,\n              choices: choices,\n              correct: correct,\n            });\n\t  }}\n        />\n\t<NavButton\n          title=\"Edit Quiz\"\n          customClick={async () => {\n\t    await getQuizTitle(item.title);\n\t    console.log(quizTitle);\n\t    navigation.navigate('EditQuiz',{ \n\t      title: quizTitle,\n\t      questions: questions,\n\t      choices: choices,\n\t      correct: correct\n\t    });\n\t  }}\n        />\n        <NavButton\n          title=\"Delete Quiz\"\n          customClick={() => {\n\t    Alert.alert(\n\t      \"Delete\",\n              `Do you want to delete: ${item.title}?`,\n              [\n                {\n                  text: 'Ok',\n                  onPress: () => {deleteQuizTitle(item.title)},\n                },\n              ],\n              { cancelable: true }\n            )\n\t  }}\n        />\n      </View>\n    );\n  };\n\n  useEffect(() => {\n    getQuizzes();\n  }, []);\n\n  return (\n    <SafeAreaView style={{ flex: 1 }}>\n      <View style={{ flex: 1, backgroundColor: '#dbb42b' }}>\n        <FlatList\n          data={flatListItems}\n          ItemSeparatorComponent={listViewItemSeparator}\n          keyExtractor={(item, index) => index.toString()}\n\t  renderItem={({ item }) => listItemView(item)}\n        />\n      </View>\n    </SafeAreaView>\n  );\n};\n\nexport default ViewQuizzes;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}