{"ast":null,"code":"import { useState, useEffect } from \"react\";\nimport React from \"react\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport MainTextInput from \"./components/MainTextInput\";\nimport * as SQLite from \"expo-sqlite\";\nimport NavButton from \"./components/NavButton\";\nimport MainText from \"./components/MainText\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar db = SQLite.openDatabase(\"VisionTalesDB.db\");\nvar DeleteUser = function DeleteUser(_ref) {\n  var navigation = _ref.navigation,\n    route = _ref.route;\n  var id_video = route.params.video_id;\n  var delete_video = function delete_video() {\n    console.log(id_video);\n    var delete_url = \"https://2jwoowlka2.execute-api.us-east-1.amazonaws.com/videos/\" + route.params.yt_id;\n    fetch(delete_url, {\n      method: 'DELETE',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }\n    });\n    db.transaction(function (tx) {\n      tx.executeSql('DELETE FROM table_video where video_id=?', [id_video], function (tx, results) {\n        console.log('Results', results.rowsAffected);\n        if (results.rowsAffected > 0) {\n          Alert.alert('Success', 'Video deleted successfully', [{\n            text: 'Ok',\n            onPress: function onPress() {\n              return navigation.navigate('HomeScreen');\n            }\n          }], {\n            cancelable: false\n          });\n        } else {\n          alert('Please insert a valid Video Id');\n        }\n      }, function (tx, error) {\n        console.log(error);\n      });\n    });\n  };\n  return _jsx(SafeAreaView, {\n    style: {\n      flex: 1\n    },\n    children: _jsx(View, {\n      style: {\n        flex: 1,\n        backgroundColor: 'white'\n      },\n      children: _jsxs(View, {\n        style: {\n          flex: 1\n        },\n        children: [_jsx(Text, {\n          children: \"Are you sure you wish to delete this video?\"\n        }), _jsx(NavButton, {\n          title: \"Yes\",\n          customClick: delete_video\n        }), _jsx(NavButton, {\n          title: \"No\",\n          customClick: function customClick() {\n            return navigation.navigate('HomeScreen');\n          }\n        })]\n      })\n    })\n  });\n};\nexport default DeleteUser;","map":{"version":3,"names":["useState","useEffect","React","MainTextInput","SQLite","NavButton","MainText","db","openDatabase","DeleteUser","navigation","route","id_video","params","video_id","delete_video","console","log","delete_url","yt_id","fetch","method","headers","Accept","transaction","tx","executeSql","results","rowsAffected","Alert","alert","text","onPress","navigate","cancelable","error","flex","backgroundColor"],"sources":["/Users/shravun/Desktop/Dev/visiontales-app/iSight-MobileApp-main-2/VisionTalesAdmin/pages/DeleteVideo.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport React from \"react\";\nimport {\n  FlatList,\n  Text,\n  ScrollView,\n  KeyboardAvoidingView,\n  Alert,\n  View,\n  SafeAreaView,\n  StyleSheet,\n  StatusBar,\n  TouchableOpacity,\n} from \"react-native\";\nimport MainTextInput from \"./components/MainTextInput\";\nimport * as SQLite from \"expo-sqlite\";\nimport NavButton from \"./components/NavButton\";\nimport MainText from \"./components/MainText\";\n\nvar db = SQLite.openDatabase(\"VisionTalesDB.db\");\n\nconst DeleteUser = ({ navigation, route }) => {\n  const id_video = route.params.video_id;\n\n  let delete_video = () => {\n    console.log(id_video);\n    //Delete video from database\n    const delete_url = `https://2jwoowlka2.execute-api.us-east-1.amazonaws.com/videos/${route.params.yt_id}`\n    fetch(delete_url, {\n      method: 'DELETE',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }\n    });\n    db.transaction((tx) => {\n      tx.executeSql(\n        'DELETE FROM table_video where video_id=?',\n        [id_video],\n        (tx, results) => {\n          console.log('Results', results.rowsAffected);\n          if (results.rowsAffected > 0) {\n            Alert.alert(\n              'Success',\n              'Video deleted successfully',\n              [\n                {\n                  text: 'Ok',\n                  onPress: () => navigation.navigate('HomeScreen'),\n                },\n              ],\n              { cancelable: false }\n            );\n          } else {\n            alert('Please insert a valid Video Id');\n          }\n        }, (tx, error) => {console.log(error)}\n      );\n    });\n  };\n\n  return (\n    <SafeAreaView style={{ flex: 1 }}>\n      <View style={{ flex: 1, backgroundColor: 'white' }}>\n        <View style={{ flex: 1 }}>\n          <Text>Are you sure you wish to delete this video?</Text>\n          <NavButton title=\"Yes\" customClick={delete_video} />\n          <NavButton title=\"No\" customClick={() => navigation.navigate('HomeScreen')} />\n        </View>\n      </View>\n    </SafeAreaView>\n  );\n};\n\nexport default DeleteUser;\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAa1B,OAAOC,aAAa;AACpB,OAAO,KAAKC,MAAM,MAAM,aAAa;AACrC,OAAOC,SAAS;AAChB,OAAOC,QAAQ;AAA8B;AAAA;AAE7C,IAAIC,EAAE,GAAGH,MAAM,CAACI,YAAY,CAAC,kBAAkB,CAAC;AAEhD,IAAMC,UAAU,GAAG,SAAbA,UAAU,OAA8B;EAAA,IAAxBC,UAAU,QAAVA,UAAU;IAAEC,KAAK,QAALA,KAAK;EACrC,IAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAM,CAACC,QAAQ;EAEtC,IAAIC,YAAY,GAAG,SAAfA,YAAY,GAAS;IACvBC,OAAO,CAACC,GAAG,CAACL,QAAQ,CAAC;IAErB,IAAMM,UAAU,sEAAoEP,KAAK,CAACE,MAAM,CAACM,KAAO;IACxGC,KAAK,CAACF,UAAU,EAAE;MAChBG,MAAM,EAAE,QAAQ;MAChBC,OAAO,EAAE;QACPC,MAAM,EAAE,kBAAkB;QAC1B,cAAc,EAAE;MAClB;IACF,CAAC,CAAC;IACFhB,EAAE,CAACiB,WAAW,CAAC,UAACC,EAAE,EAAK;MACrBA,EAAE,CAACC,UAAU,CACX,0CAA0C,EAC1C,CAACd,QAAQ,CAAC,EACV,UAACa,EAAE,EAAEE,OAAO,EAAK;QACfX,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEU,OAAO,CAACC,YAAY,CAAC;QAC5C,IAAID,OAAO,CAACC,YAAY,GAAG,CAAC,EAAE;UAC5BC,KAAK,CAACC,KAAK,CACT,SAAS,EACT,4BAA4B,EAC5B,CACE;YACEC,IAAI,EAAE,IAAI;YACVC,OAAO,EAAE;cAAA,OAAMtB,UAAU,CAACuB,QAAQ,CAAC,YAAY,CAAC;YAAA;UAClD,CAAC,CACF,EACD;YAAEC,UAAU,EAAE;UAAM,CAAC,CACtB;QACH,CAAC,MAAM;UACLJ,KAAK,CAAC,gCAAgC,CAAC;QACzC;MACF,CAAC,EAAE,UAACL,EAAE,EAAEU,KAAK,EAAK;QAACnB,OAAO,CAACC,GAAG,CAACkB,KAAK,CAAC;MAAA,CAAC,CACvC;IACH,CAAC,CAAC;EACJ,CAAC;EAED,OACE,KAAC,YAAY;IAAC,KAAK,EAAE;MAAEC,IAAI,EAAE;IAAE,CAAE;IAAA,UAC/B,KAAC,IAAI;MAAC,KAAK,EAAE;QAAEA,IAAI,EAAE,CAAC;QAAEC,eAAe,EAAE;MAAQ,CAAE;MAAA,UACjD,MAAC,IAAI;QAAC,KAAK,EAAE;UAAED,IAAI,EAAE;QAAE,CAAE;QAAA,WACvB,KAAC,IAAI;UAAA;QAAA,EAAmD,EACxD,KAAC,SAAS;UAAC,KAAK,EAAC,KAAK;UAAC,WAAW,EAAErB;QAAa,EAAG,EACpD,KAAC,SAAS;UAAC,KAAK,EAAC,IAAI;UAAC,WAAW,EAAE;YAAA,OAAML,UAAU,CAACuB,QAAQ,CAAC,YAAY,CAAC;UAAA;QAAC,EAAG;MAAA;IACzE;EACF,EACM;AAEnB,CAAC;AAED,eAAexB,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}